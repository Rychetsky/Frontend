<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>
	</title>
	
	
	
	<link rel="stylesheet" href="../assets/css/db_style.css" />
	
	
	<link rel="stylesheet" href="../assets/css/chosen.css" />
	
	<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css">
</head>
<body>
	
	
	
<!--
<div class="db_box">
	<div class="inside">
		
		<h2>Jetzt mitfahren</h2>
		
		<input type="submit" class="db_btn" />
		
		
	</div>
</div>
-->
		<h1>Wähle Deine Fahrt</h1>

<div class="db_box highlight" style="width:790px;">
	<div class="inside">
		
		
		<div class="box-half">
			<header>
			<h3>Hinfahrt</h3>
			<h2>Frankfurt - Stuttgart</h2>
			</header>
			
			<label for="date-to" class="date-to">Datum Hinfahrt</label>
			<input type="text" class="date date-to" name="date-to" value="03.06.2013">

			<table id="">
				<thead>
					<tr>
						<th scope="col" id="">Abfahrt</th>
						<th scope="col" id="">Ankunft</th>
						<th scope="col" id="">Umstiege</th>
						<th scope="col" id="">Preis</th>
						<th scope="col" id=""></th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>dsf</td>
						<td>sfd</td>
						<td>ddsfsf</td>
						<td>dsf</td>
						<td><button class="btn-choose"></button></td>
					</tr>
				</tbody>
			</table>
			
		</div>

		<div class="box-half">
			
		</div>
		
		<div class="clearfix"></div>

	</div>
</div>


<!--
<div class="db_box">
	<div class="inside">
		
		<div class="box-half">
			<h2>Jetzt mitfahren</h2>
			
		</div>

		<div class="box-half">
			<h2>Jetzt mitfahren</h2>
			<input type="submit" class="db_btn" />
		</div>
		<div class="clearfix"></div>
		
	</div>
</div>
-->

	
	<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
	<script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>

	<script src="../assets/js/chosen/chosen.jquery.js" type="text/javascript"></script>
	<script type="text/javascript"> 
		var config = {
			'.select-from' : {width:"100%",no_results_text:'<a href="http://google.de" class="txt-small">Deine Verbindung ist nicht dabei?</a>'},
			'.select-to' : {width:"100%",no_results_text:'<a href="http://google.de" class="txt-small">Deine Verbindung ist nicht dabei?</a>'},
			'.select-persons' : {width:"100%",no_results_text:'<a href="http://google.de" class="txt-small">Du möchtest für mehr als 4 Personen buchen?</a>'}
		}
		for (var selector in config) {
			$(selector).chosen(config[selector]);
		}
		
		$(function() {
		    
		    $( "input.date-to" ).datepicker({
		        defaultDate: "+1w",
		        numberOfMonths: 2,
		        minDate: 0,
		        onSelect: function( selectedDate ) {
		            $( "input.date-back" ).datepicker( "option", "minDate", selectedDate );
		        }
		    });
		    $( "input.date-back" ).datepicker({
		        defaultDate: "+1w",
		        numberOfMonths: 2,
		        minDate: 0,
		        onSelect: function( selectedDate ) {
		            $( "input.date-to" ).datepicker( "option", "maxDate", selectedDate );
		        }
		    });


	        $.datepicker.regional['de'] = {clearText: 'löschen', clearStatus: 'aktuelles Datum löschen',
	                closeText: 'schließen', closeStatus: 'ohne Änderungen schließen',
	                prevText: '<zurück', prevStatus: 'letzten Monat zeigen',
	                nextText: 'Vor>', nextStatus: 'nächsten Monat zeigen',
	                currentText: 'heute', currentStatus: '',
	                monthNames: ['Januar','Februar','März','April','Mai','Juni',
	                'Juli','August','September','Oktober','November','Dezember'],
	                monthNamesShort: ['Jan','Feb','Mär','Apr','Mai','Jun',
	                'Jul','Aug','Sep','Okt','Nov','Dez'],
	                monthStatus: 'anderen Monat anzeigen', yearStatus: 'anderes Jahr anzeigen',
	                weekHeader: 'Wo', weekStatus: 'Woche des Monats',
	                dayNames: ['Sonntag','Montag','Dienstag','Mittwoch','Donnerstag','Freitag','Samstag'],
	                dayNamesShort: ['So','Mo','Di','Mi','Do','Fr','Sa'],
	                dayNamesMin: ['So','Mo','Di','Mi','Do','Fr','Sa'],
	                dayStatus: 'Setze DD als ersten Wochentag', dateStatus: 'Wähle D, M d',
	                dateFormat: 'dd.mm.yy', firstDay: 1, 
	                initStatus: 'Wähle ein Datum', isRTL: false};
	        $.datepicker.setDefaults($.datepicker.regional['de']);
			

			$('.just-date-to').change(function(){
				if (this.checked){
					$('.date-back').val('').prop('disabled', true).addClass('dimmed');
				}else{
					$('.date-back').prop('disabled', false).removeClass('dimmed');
				}
			});
			
			$('.select-container ul').on("click",function(){
			    var $sel;
			    var $opp;
			    var $sid = new Array();
				$sel = $(this).closest('.select-container').attr('id');
				$sid = $sel.split("-");
				
				$sel = $sid[$sid.length-1];
				
				if($sel == 'adults'){
					$opp = 'kids';
				}else{
					$opp = 'adults';
				}
				
				 var $val = parseInt($('#select-container-'+$sel+' .result-selected').text())+1;
				 $(".select-"+$opp+" option").attr('disabled',false);
				 $(".select-"+$opp+" option:gt(-"+$val+")").attr('disabled',true);
				 $(".select-"+$opp).trigger("liszt:updated");
			});


		  });

		
	</script>
	
</body>
</html>

