<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>
	</title>
	
	
	
	<link rel="stylesheet" href="../assets/css/db_style.css" />
	
	
	<link rel="stylesheet" href="../assets/css/chosen.css" />
	
	<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css">
</head>
<body>
	
	
	
<!--
<div class="db_box">
	<div class="inside">
		
		<h2>Jetzt mitfahren</h2>
		
		<input type="submit" class="db_btn" />
		
		
	</div>
</div>
-->

<div class="db_box highlight" style="width:312px;">
	<div class="inside">
		
		<h2>Jetzt mitfahren</h2>
		
		<form class="form-booking">
			<fieldset>
			
			<div class="box-half">
				<label for="select-from">Von</label>
				<select data-placeholder="Start" name="select-from" class="select-from" tabindex="1">
		          <option value=""></option> 
		          <option value="United States">United States</option> 
		          <option value="United Kingdom">United Kingdom</option> 
		          <option value="Afghanistan">Afghanistan</option> 
		          <option value="Aland Islands">Aland Islands</option> 
		          <option value="Albania">Albania</option> 
		          <option value="Algeria">Algeria</option> 
		          <option value="American Samoa">American Samoa</option> 
		          <option value="Andorra">Andorra</option> 
		          <option value="Angola">Angola</option> 
		          <option value="Anguilla">Anguilla</option> 
		        </select>
			</div>
			
			<div class="box-half">
				<label for="select-to">Nach</label>
				<select data-placeholder="Ziel" name="select-to" class="select-to" tabindex="2">
		          <option value=""></option> 
		          <option value="United States">United States</option> 
		          <option value="United Kingdom">United Kingdom</option> 
		          <option value="Afghanistan">Afghanistan</option> 
		          <option value="Aland Islands">Aland Islands</option> 
		          <option value="Albania">Albania</option> 
		          <option value="Algeria">Algeria</option> 
		          <option value="American Samoa">American Samoa</option> 
		          <option value="Andorra">Andorra</option> 
		          <option value="Angola">Angola</option> 
		          <option value="Anguilla">Anguilla</option> 
		        </select>
			</div>


			<div class="box-half">
				<label for="date-to" class="date-to">Datum Hinfahrt</label>
				<input type="text" class="date date-to" name="date-to">
			</div>

			<div class="box-half">
				<label for="date-back" class="date-back">Datum Rückfahrt</label>
				<input type="text" class="date date-back" name="date-back">
			</div>
			
			<div class="box-full">
				<label for="just-date-to">Nur Hinfahrt</label>
				<input type="checkbox" name="just-date-to" class="just-date-to">
			</div>

			<div class="box-half">
				<div class="select-container" id="select-container-adults">
					<label for="select-adults">Erwachsene</label>
					<select data-placeholder="Erwachsene" name="select-adults" class="select-persons select-adults" tabindex="3">
			          <option value=""></option> 
			          <option value="0">0</option> 
			          <option value="1">1</option> 
			          <option value="2">2</option> 
			          <option value="3">3</option> 
			          <option value="4">4</option> 
			        </select>
				</div>
			</div>


			<div class="box-half">
				<div class="select-container" id="select-container-kids">
					<label for="select-kids">Kinder</label>
					<select data-placeholder="Kinder" name="select-kids" class="select-persons select-kids" tabindex="3">
			          <option value=""></option> 
			          <option value="0">0</option> 
			          <option value="1">1</option> 
			          <option value="2">2</option> 
			          <option value="3">3</option> 
			          <option value="4">4</option> 
			        </select>
				</div>	
			</div>
			
			<div class="box-full">
				<input type="submit" class="db_btn full-width" value="Abfahrten anzeigen & &#10; Fahrschein buchen"/>
			</div>
			
			</fieldset>
		</form>		
				
		<a href="" class="txt-small">Deine Verbindung ist nicht dabei?</a>
		
	</div>
</div>


<!--
<div class="db_box">
	<div class="inside">
		
		<div class="box-half">
			<h2>Jetzt mitfahren</h2>
			
		</div>

		<div class="box-half">
			<h2>Jetzt mitfahren</h2>
			<input type="submit" class="db_btn" />
		</div>
		<div class="clearfix"></div>
		
	</div>
</div>
-->

	
	<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
	<script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>

	<script src="../assets/js/chosen/chosen.jquery.js" type="text/javascript"></script>
	<script type="text/javascript"> 
		var config = {
			'.select-from' : {width:"100%",no_results_text:'<a href="http://google.de" class="txt-small">Deine Verbindung ist nicht dabei?</a>'},
			'.select-to' : {width:"100%",no_results_text:'<a href="http://google.de" class="txt-small">Deine Verbindung ist nicht dabei?</a>'},
			'.select-persons' : {width:"100%",no_results_text:'<a href="http://google.de" class="txt-small">Du möchtest für mehr als 4 Personen buchen?</a>'}
		}
		for (var selector in config) {
			$(selector).chosen(config[selector]);
		}
		
		$(function() {
		    
		    $( "input.date-to" ).datepicker({
		        defaultDate: "+1w",
		        numberOfMonths: 2,
		        minDate: 0,
		        onSelect: function( selectedDate ) {
		            $( "input.date-back" ).datepicker( "option", "minDate", selectedDate );
		        }
		    });
		    $( "input.date-back" ).datepicker({
		        defaultDate: "+1w",
		        numberOfMonths: 2,
		        minDate: 0,
		        onSelect: function( selectedDate ) {
		            $( "input.date-to" ).datepicker( "option", "maxDate", selectedDate );
		        }
		    });


	        $.datepicker.regional['de'] = {clearText: 'löschen', clearStatus: 'aktuelles Datum löschen',
	                closeText: 'schließen', closeStatus: 'ohne Änderungen schließen',
	                prevText: '<zurück', prevStatus: 'letzten Monat zeigen',
	                nextText: 'Vor>', nextStatus: 'nächsten Monat zeigen',
	                currentText: 'heute', currentStatus: '',
	                monthNames: ['Januar','Februar','März','April','Mai','Juni',
	                'Juli','August','September','Oktober','November','Dezember'],
	                monthNamesShort: ['Jan','Feb','Mär','Apr','Mai','Jun',
	                'Jul','Aug','Sep','Okt','Nov','Dez'],
	                monthStatus: 'anderen Monat anzeigen', yearStatus: 'anderes Jahr anzeigen',
	                weekHeader: 'Wo', weekStatus: 'Woche des Monats',
	                dayNames: ['Sonntag','Montag','Dienstag','Mittwoch','Donnerstag','Freitag','Samstag'],
	                dayNamesShort: ['So','Mo','Di','Mi','Do','Fr','Sa'],
	                dayNamesMin: ['So','Mo','Di','Mi','Do','Fr','Sa'],
	                dayStatus: 'Setze DD als ersten Wochentag', dateStatus: 'Wähle D, M d',
	                dateFormat: 'dd.mm.yy', firstDay: 1, 
	                initStatus: 'Wähle ein Datum', isRTL: false};
	        $.datepicker.setDefaults($.datepicker.regional['de']);
			

			$('.just-date-to').change(function(){
				if (this.checked){
					$('.date-back').val('').prop('disabled', true).addClass('dimmed');
				}else{
					$('.date-back').prop('disabled', false).removeClass('dimmed');
				}
			});
			
			$('.select-container ul').on("click",function(){
			    var $sel;
			    var $opp;
			    var $sid = new Array();
				$sel = $(this).closest('.select-container').attr('id');
				$sid = $sel.split("-");
				
				$sel = $sid[$sid.length-1];
				
				if($sel == 'adults'){
					$opp = 'kids';
				}else{
					$opp = 'adults';
				}
				
				 var $val = parseInt($('#select-container-'+$sel+' .result-selected').text())+1;
				 $(".select-"+$opp+" option").attr('disabled',false);
				 $(".select-"+$opp+" option:gt(-"+$val+")").attr('disabled',true);
				 $(".select-"+$opp).trigger("liszt:updated");
			});


		  });

		
	</script>
	
</body>
</html>

